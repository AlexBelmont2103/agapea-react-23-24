{"ast":null,"code":"//modulo donde exporto funciones javascript para hacer pet.ajax al servicio RESTFULL montado sobre NODEJS....\nexport async function RegistrarCliente({\n  nombre,\n  apellidos,\n  email,\n  password,\n  login,\n  telefono\n}) {\n  if (login === '') login = email;\n\n  //#region -----------------  pet.Ajax con XMLHTTPREQUEST ----------------\n\n  //envolvemos pet.ajax en un objeto PROMISE....\n  //en el prototipo, el argumento pasado es una funcion con dos parametros:\n  // - resolve:  una funcion q va a devolver los datos de la promesia si se ejecuta de forma correcta\n  //              es lo q se recoje en el .then()\n  // - reject:  una funcion q va a devolver los datos cuando quieres q la promesa se ejecute de forma\n  //          incorrecta, estos datos los recogeria el catch()\n\n  // var _promiseResult=new Promise(\n  //     (resolve,reject)=>{\n  //         var petAjax=new XMLHttpRequest();\n  //         petAjax.open('POST','http://localhost:3003/api/Cliente/Registro');\n  //         petAjax.setRequestHeader('Content-Type','application/json');\n\n  //         petAjax.addEventListener('readystatechange',()=>{\n  //             if( petAjax.readyState === 4){\n  //                 console.log(petAjax);\n\n  //                 switch (petAjax.status) {\n  //                     case 200:\n  //                         //la respuesta del server esta en petAjax.responseText\n  //                         var respuesta=JSON.parse(petAjax.responseText);\n  //                         resolve(respuesta);                                                        \n  //                         break;\n\n  //                     default:\n  //                         reject( { codigo: 1, mensaje:'algo ha ido mal en pet.ajax al servicio de registrar cliente...' });\n  //                         break;\n  //                 }\n  //             }\n  //         });\n\n  //         petAjax.send(JSON.stringify( { nombre,apellidos,login,telefono,email,password} ));  \n  //     }\n  // );\n\n  // return _promiseResult;\n\n  //#endregion\n\n  //#region -----------------  pet.Ajax con FETCH-API -----------------------\n  try {\n    var _petAjax = await fetch('http://localhost:5000/api/Cliente/Registro', {\n      method: 'POST',\n      body: JSON.stringify({\n        nombre,\n        apellidos,\n        email,\n        password,\n        login,\n        telefono\n      }),\n      headers: {\n        'Content-Type': 'application/json '\n      }\n    });\n    return await _petAjax.json();\n  } catch (error) {\n    return {\n      codigo: 1,\n      mensaje: 'algo ha ido mal en pet.ajax al servicio de registrar cliente...'\n    };\n  }\n  //#endregion\n}\n_c = RegistrarCliente;\nexport async function LoginCliente(datoslogin) {\n  try {\n    var _petAjax = await fetch('http://localhost:5000/api/Cliente/Login', {\n      method: 'POST',\n      body: JSON.stringify(datoslogin),\n      headers: {\n        'Content-Type': 'application/json '\n      }\n    });\n    return await _petAjax.json();\n  } catch (error) {\n    return JSON.parse(error);\n  }\n}\n_c2 = LoginCliente;\nexport async function SubirFoto(datosFoto) {\n  try {\n    let imagen = datosFoto.imagen;\n    let jwt = datosFoto.jwt;\n    console.log(\"Imagen\", imagen);\n    var _petAjax = await fetch('http://localhost:5000/api/Cliente/SubirFoto', {\n      method: 'POST',\n      body: JSON.stringify({\n        imagen\n      }),\n      headers: {\n        'Content-Type': 'application/json ',\n        \"Authorization\": `Bearer ${jwt}`\n      }\n    });\n    return await _petAjax.json();\n  } catch (error) {\n    return JSON.parse(error);\n  }\n}\n_c3 = SubirFoto;\nexport async function ActualizarCliente(datosEnviar) {\n  try {\n    let datosCliente = datosEnviar.datoscliente;\n    let jwt = datosEnviar.jwt;\n    var _petAjax = await fetch('http://localhost:5000/api/Cliente/ActualizarCliente', {\n      method: 'POST',\n      body: JSON.stringify(datosCliente),\n      headers: {\n        'Content-Type': 'application/json ',\n        'Authorization': datosCliente.jwt\n      }\n    });\n    return await _petAjax.json();\n  } catch (error) {\n    return JSON.parse(error);\n  }\n}\n_c4 = ActualizarCliente;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"RegistrarCliente\");\n$RefreshReg$(_c2, \"LoginCliente\");\n$RefreshReg$(_c3, \"SubirFoto\");\n$RefreshReg$(_c4, \"ActualizarCliente\");","map":{"version":3,"names":["RegistrarCliente","nombre","apellidos","email","password","login","telefono","_petAjax","fetch","method","body","JSON","stringify","headers","json","error","codigo","mensaje","_c","LoginCliente","datoslogin","parse","_c2","SubirFoto","datosFoto","imagen","jwt","console","log","_c3","ActualizarCliente","datosEnviar","datosCliente","datoscliente","_c4","$RefreshReg$"],"sources":["C:/Users/thard/OneDrive/Documentos/DAW/Segundo/entornoCliente/agapea_react/src/servicios/restCliente.js"],"sourcesContent":["//modulo donde exporto funciones javascript para hacer pet.ajax al servicio RESTFULL montado sobre NODEJS....\r\nexport async function RegistrarCliente( { nombre,apellidos,email,password,login,telefono} ){\r\n  if (login==='') login=email;\r\n\r\n\r\n//#region -----------------  pet.Ajax con XMLHTTPREQUEST ----------------\r\n\r\n  //envolvemos pet.ajax en un objeto PROMISE....\r\n  //en el prototipo, el argumento pasado es una funcion con dos parametros:\r\n  // - resolve:  una funcion q va a devolver los datos de la promesia si se ejecuta de forma correcta\r\n  //              es lo q se recoje en el .then()\r\n  // - reject:  una funcion q va a devolver los datos cuando quieres q la promesa se ejecute de forma\r\n  //          incorrecta, estos datos los recogeria el catch()\r\n\r\n  // var _promiseResult=new Promise(\r\n  //     (resolve,reject)=>{\r\n  //         var petAjax=new XMLHttpRequest();\r\n  //         petAjax.open('POST','http://localhost:3003/api/Cliente/Registro');\r\n  //         petAjax.setRequestHeader('Content-Type','application/json');\r\n      \r\n  //         petAjax.addEventListener('readystatechange',()=>{\r\n  //             if( petAjax.readyState === 4){\r\n  //                 console.log(petAjax);\r\n      \r\n  //                 switch (petAjax.status) {\r\n  //                     case 200:\r\n  //                         //la respuesta del server esta en petAjax.responseText\r\n  //                         var respuesta=JSON.parse(petAjax.responseText);\r\n  //                         resolve(respuesta);                                                        \r\n  //                         break;\r\n\r\n  //                     default:\r\n  //                         reject( { codigo: 1, mensaje:'algo ha ido mal en pet.ajax al servicio de registrar cliente...' });\r\n  //                         break;\r\n  //                 }\r\n  //             }\r\n  //         });\r\n      \r\n  //         petAjax.send(JSON.stringify( { nombre,apellidos,login,telefono,email,password} ));  \r\n  //     }\r\n  // );\r\n\r\n  // return _promiseResult;\r\n\r\n\r\n//#endregion\r\n\r\n//#region -----------------  pet.Ajax con FETCH-API -----------------------\r\ntry {\r\n      var _petAjax=await fetch('http://localhost:5000/api/Cliente/Registro',\r\n                               {\r\n                                  method: 'POST',\r\n                                  body: JSON.stringify({ nombre,apellidos,email,password,login,telefono}),\r\n                                  headers: { 'Content-Type': 'application/json '}\r\n                               }\r\n                              );\r\n      return await _petAjax.json();\r\n\r\n  } catch (error) {\r\n      return { codigo: 1, mensaje:'algo ha ido mal en pet.ajax al servicio de registrar cliente...' };\r\n  }\r\n//#endregion\r\n \r\n}\r\n\r\n\r\nexport async function LoginCliente( datoslogin ){\r\n  try {\r\n      var _petAjax=await fetch('http://localhost:5000/api/Cliente/Login',\r\n                              {\r\n                              method: 'POST',\r\n                              body: JSON.stringify(datoslogin) ,\r\n                              headers: { 'Content-Type': 'application/json '}\r\n                              }\r\n                         );\r\n      return await _petAjax.json();  \r\n        \r\n  } catch (error) {\r\n      return JSON.parse(error);\r\n  }\r\n\r\n}\r\n\r\nexport async function SubirFoto(datosFoto){\r\n  try {\r\n      let imagen = datosFoto.imagen;\r\n      let jwt = datosFoto.jwt;\r\n      console.log(\"Imagen\",imagen);\r\n      var _petAjax=await fetch('http://localhost:5000/api/Cliente/SubirFoto',\r\n                              {\r\n                              method: 'POST',\r\n                              body: JSON.stringify({imagen}) ,\r\n                              headers: { \r\n                                'Content-Type': 'application/json ',\r\n                                \"Authorization\": `Bearer ${jwt}`\r\n                              }\r\n                              }\r\n                         );\r\n      return await _petAjax.json();  \r\n        \r\n  } catch (error) {\r\n      return JSON.parse(error);\r\n  }\r\n}\r\n\r\nexport async function ActualizarCliente(datosEnviar){\r\n  try {\r\n    let datosCliente=datosEnviar.datoscliente;\r\n    let jwt = datosEnviar.jwt;\r\n      var _petAjax=await fetch('http://localhost:5000/api/Cliente/ActualizarCliente',\r\n                              {\r\n                              method: 'POST',\r\n                              body: JSON.stringify(datosCliente) ,\r\n                              headers: { 'Content-Type': 'application/json ', 'Authorization':  datosCliente.jwt}\r\n                              }\r\n                         );\r\n      return await _petAjax.json();  \r\n        \r\n  } catch (error) {\r\n      return JSON.parse(error);\r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}