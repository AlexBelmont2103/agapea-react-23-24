{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thard\\\\OneDrive\\\\Documentos\\\\DAW\\\\Segundo\\\\entornoCliente\\\\agapea_react\\\\src\\\\contextProviders\\\\itemsCarroContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n//modulo js para definir el state global con context-api del carro\n//usando un reducer, no el state\nimport { createContext, useContext, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst itemsCarroContext = /*#__PURE__*/createContext();\n//Funcion reducer\n//Requisitos: 2 parametros:\n//El state actual\n//La action que se manda debe ser un objeto json con propiedad type y payload con el valor que quieres cambiar\n// {type:\"nombreAccion\", payload: valor}\n//La funcion debe ser pura: no debe modificar el state original, debe devolver un nuevo state\nfunction itemsCarroReducer(state, action) {\n  //en action.payload un objeto asi: {libroElemento:{...}, cantidadElemento:...}\n  switch (action.type) {\n    case \"ADD_NUEVO_LIBRO\":\n      return [...state, action.payload];\n    case \"SUMAR_CANTIDAD_LIBRO\":\n      return state.map(item => {\n        if (item.libroElemento.isbn13 === action.payload.isbn13) {\n          return {\n            ...item,\n            cantidad: item.cantidad + action.payload.cantidad\n          };\n        } else {\n          return item;\n        }\n      });\n    case \"REMOVE_LIBRO\":\n      return state.filter(item => item.libroElemento.isbn13 !== action.payload.isbn13);\n    case \"RESTAR_CANTIDAD_LIBRO\":\n      return state.map(item => {\n        if (item.libroElemento.isbn13 === action.payload.isbn13) {\n          return {\n            ...item,\n            cantidad: item.cantidad - action.payload.cantidad\n          };\n        } else {\n          return item;\n        }\n      });\n  }\n}\n\n//A EXPORTAR: componente con codigo jsx que defina el provider del contexto y pase valores del reducer\nfunction ItemsCarroProvider({\n  children\n}) {\n  _s();\n  const [itemsCarro, dispatch] = useReducer(itemsCarroReducer, []);\n  return /*#__PURE__*/_jsxDEV(itemsCarroContext.Provider, {\n    value: {\n      itemsCarro,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n//A EXPORTAR: Hook personalizado para usar los valores del contexto creado\n_s(ItemsCarroProvider, \"UBAiRPZ/lQKtawMnqLLfTeqNDz0=\");\n_c = ItemsCarroProvider;\nfunction useItemsCarroContext() {\n  _s2();\n  itemsCarroContext = useContext(itemsCarroContext);\n  return itemsCarroContext;\n}\n_s2(useItemsCarroContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport { ItemsCarroProvider, useItemsCarroContext };\nvar _c;\n$RefreshReg$(_c, \"ItemsCarroProvider\");","map":{"version":3,"names":["createContext","useContext","useReducer","jsxDEV","_jsxDEV","itemsCarroContext","itemsCarroReducer","state","action","type","payload","map","item","libroElemento","isbn13","cantidad","filter","ItemsCarroProvider","children","_s","itemsCarro","dispatch","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useItemsCarroContext","_s2","$RefreshReg$"],"sources":["C:/Users/thard/OneDrive/Documentos/DAW/Segundo/entornoCliente/agapea_react/src/contextProviders/itemsCarroContext.js"],"sourcesContent":["//modulo js para definir el state global con context-api del carro\r\n//usando un reducer, no el state\r\nimport { createContext, useContext, useReducer } from \"react\";\r\n\r\nconst itemsCarroContext = createContext();\r\n//Funcion reducer\r\n//Requisitos: 2 parametros:\r\n//El state actual\r\n//La action que se manda debe ser un objeto json con propiedad type y payload con el valor que quieres cambiar\r\n// {type:\"nombreAccion\", payload: valor}\r\n//La funcion debe ser pura: no debe modificar el state original, debe devolver un nuevo state\r\nfunction itemsCarroReducer(state, action) {\r\n  //en action.payload un objeto asi: {libroElemento:{...}, cantidadElemento:...}\r\n  switch (action.type) {\r\n    case \"ADD_NUEVO_LIBRO\":\r\n      return [...state, action.payload];\r\n    case \"SUMAR_CANTIDAD_LIBRO\":\r\n        return state.map((item) => {\r\n            if (item.libroElemento.isbn13 === action.payload.isbn13) {\r\n            return { ...item, cantidad: item.cantidad + action.payload.cantidad };\r\n            } else {\r\n            return item;\r\n            }\r\n        });\r\n    case \"REMOVE_LIBRO\":\r\n        return state.filter((item) => item.libroElemento.isbn13 !== action.payload.isbn13);\r\n    case \"RESTAR_CANTIDAD_LIBRO\":\r\n        return state.map((item) => {\r\n            if (item.libroElemento.isbn13 === action.payload.isbn13) {\r\n            return { ...item, cantidad: item.cantidad - action.payload.cantidad };\r\n            } else {\r\n            return item;\r\n            }\r\n        });    \r\n  }\r\n}\r\n\r\n//A EXPORTAR: componente con codigo jsx que defina el provider del contexto y pase valores del reducer\r\nfunction ItemsCarroProvider({ children }) {\r\n  const [itemsCarro, dispatch] = useReducer(itemsCarroReducer, []);\r\n  return (\r\n    <itemsCarroContext.Provider value={{ itemsCarro, dispatch }}>\r\n      {children}\r\n    </itemsCarroContext.Provider>\r\n  );\r\n}\r\n\r\n//A EXPORTAR: Hook personalizado para usar los valores del contexto creado\r\nfunction useItemsCarroContext() {\r\n  itemsCarroContext = useContext(itemsCarroContext);\r\n  return itemsCarroContext;\r\n}\r\n\r\nexport { ItemsCarroProvider, useItemsCarroContext };\r\n"],"mappings":";;;AAAA;AACA;AACA,SAASA,aAAa,EAAEC,UAAU,EAAEC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9D,MAAMC,iBAAiB,gBAAGL,aAAa,CAAC,CAAC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,SAASM,iBAAiBA,CAACC,KAAK,EAAEC,MAAM,EAAE;EACxC;EACA,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,iBAAiB;MACpB,OAAO,CAAC,GAAGF,KAAK,EAAEC,MAAM,CAACE,OAAO,CAAC;IACnC,KAAK,sBAAsB;MACvB,OAAOH,KAAK,CAACI,GAAG,CAAEC,IAAI,IAAK;QACvB,IAAIA,IAAI,CAACC,aAAa,CAACC,MAAM,KAAKN,MAAM,CAACE,OAAO,CAACI,MAAM,EAAE;UACzD,OAAO;YAAE,GAAGF,IAAI;YAAEG,QAAQ,EAAEH,IAAI,CAACG,QAAQ,GAAGP,MAAM,CAACE,OAAO,CAACK;UAAS,CAAC;QACrE,CAAC,MAAM;UACP,OAAOH,IAAI;QACX;MACJ,CAAC,CAAC;IACN,KAAK,cAAc;MACf,OAAOL,KAAK,CAACS,MAAM,CAAEJ,IAAI,IAAKA,IAAI,CAACC,aAAa,CAACC,MAAM,KAAKN,MAAM,CAACE,OAAO,CAACI,MAAM,CAAC;IACtF,KAAK,uBAAuB;MACxB,OAAOP,KAAK,CAACI,GAAG,CAAEC,IAAI,IAAK;QACvB,IAAIA,IAAI,CAACC,aAAa,CAACC,MAAM,KAAKN,MAAM,CAACE,OAAO,CAACI,MAAM,EAAE;UACzD,OAAO;YAAE,GAAGF,IAAI;YAAEG,QAAQ,EAAEH,IAAI,CAACG,QAAQ,GAAGP,MAAM,CAACE,OAAO,CAACK;UAAS,CAAC;QACrE,CAAC,MAAM;UACP,OAAOH,IAAI;QACX;MACJ,CAAC,CAAC;EACR;AACF;;AAEA;AACA,SAASK,kBAAkBA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACxC,MAAM,CAACC,UAAU,EAAEC,QAAQ,CAAC,GAAGnB,UAAU,CAACI,iBAAiB,EAAE,EAAE,CAAC;EAChE,oBACEF,OAAA,CAACC,iBAAiB,CAACiB,QAAQ;IAACC,KAAK,EAAE;MAAEH,UAAU;MAAEC;IAAS,CAAE;IAAAH,QAAA,EACzDA;EAAQ;IAAAM,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACiB,CAAC;AAEjC;;AAEA;AAAAR,EAAA,CATSF,kBAAkB;AAAAW,EAAA,GAAlBX,kBAAkB;AAU3B,SAASY,oBAAoBA,CAAA,EAAG;EAAAC,GAAA;EAC9BzB,iBAAiB,GAAGJ,UAAU,CAACI,iBAAiB,CAAC;EACjD,OAAOA,iBAAiB;AAC1B;AAACyB,GAAA,CAHQD,oBAAoB;AAK7B,SAASZ,kBAAkB,EAAEY,oBAAoB;AAAG,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}