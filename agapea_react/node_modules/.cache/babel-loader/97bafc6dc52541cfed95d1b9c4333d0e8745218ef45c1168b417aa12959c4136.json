{"ast":null,"code":"//modulo donde exporto funciones javascript para hacer peticiones ajax al servicio RESTFULL montado sobre NODEJS relacionado con la tienda\n//No se exportan funciones individuales, se exporta un objeto con funciones\n\nlet tiendaRESTService = {\n  recuperarCategorias: async function ({\n    request,\n    params\n  }) {\n    try {\n      var _idCategoria = params.idcategoria;\n      if (typeof _idCategoria === \"undefined\") {\n        _idCategoria = \"padres\";\n      }\n      var cats = await fetch(`http://localhost:5000/api/Tienda/RecuperarCategorias/${_idCategoria}`);\n      return await cats.json();\n    } catch (error) {\n      return [];\n    }\n  },\n  recuperarLibros: async function ({\n    request,\n    params\n  }) {\n    try {\n      var _idCategoria = params.idcategoria;\n      if (typeof _idCategoria === \"undefined\") {\n        _idCategoria = \"2-10\";\n      }\n      var libros = await fetch(`http://localhost:5000/api/Tienda/RecuperarLibros/${_idCategoria}`);\n      return await libros.json();\n    } catch (error) {\n      return [];\n    }\n  },\n  recuperarLibro: async function (isbn13) {\n    try {\n      let _libro = await fetch(`http://localhost:5000/api/Tienda/RecuperarLibro/${isbn13}`);\n      return await _libro.json();\n    } catch (error) {\n      return [];\n    }\n  },\n  enviarComentario: async function (datos, tokensesion) {\n    console.log(\"Datos a enviar: \", datos);\n    try {\n      let _comentario = await fetch(\"http://localhost:5000/api/Tienda/EnviarComentario\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": tokensesion\n        },\n        body: JSON.stringify(datos)\n      });\n      return await _comentario.json();\n    } catch (error) {\n      return [];\n    }\n  },\n  recuperarComentarios: async function (idLibro) {\n    try {\n      let _comentarios = await fetch(`http://localhost:5000/api/Tienda/RecuperarComentarios/${idLibro}`);\n      return await _comentarios.json();\n    } catch (error) {\n      return [];\n    }\n  }\n};\nexport default tiendaRESTService;","map":{"version":3,"names":["tiendaRESTService","recuperarCategorias","request","params","_idCategoria","idcategoria","cats","fetch","json","error","recuperarLibros","libros","recuperarLibro","isbn13","_libro","enviarComentario","datos","tokensesion","console","log","_comentario","method","headers","body","JSON","stringify","recuperarComentarios","idLibro","_comentarios"],"sources":["C:/Users/thard/OneDrive/Documentos/DAW/Segundo/entornoCliente/agapea_react/src/servicios/restTienda.js"],"sourcesContent":["//modulo donde exporto funciones javascript para hacer peticiones ajax al servicio RESTFULL montado sobre NODEJS relacionado con la tienda\r\n//No se exportan funciones individuales, se exporta un objeto con funciones\r\n\r\nlet tiendaRESTService={\r\n    recuperarCategorias: async function({request, params}){\r\n        try{\r\n            var _idCategoria = params.idcategoria;\r\n            if(typeof _idCategoria === \"undefined\"){\r\n                _idCategoria = \"padres\";\r\n            }\r\n            var cats = await fetch(`http://localhost:5000/api/Tienda/RecuperarCategorias/${_idCategoria}`);\r\n            return await cats.json();\r\n        }catch(error){\r\n            return [];\r\n        }\r\n    },\r\n    recuperarLibros: async function({request, params}){\r\n        try{\r\n            var _idCategoria = params.idcategoria;\r\n            if(typeof _idCategoria === \"undefined\"){\r\n                _idCategoria = \"2-10\";\r\n            }\r\n            var libros = await fetch(`http://localhost:5000/api/Tienda/RecuperarLibros/${_idCategoria}`);\r\n            return await libros.json();\r\n        }catch(error){\r\n            return [];\r\n        }\r\n    },\r\n\r\n    recuperarLibro: async function(isbn13){\r\n        try{\r\n            let _libro=await fetch(`http://localhost:5000/api/Tienda/RecuperarLibro/${isbn13}`);\r\n            return await _libro.json();\r\n        }catch(error){\r\n            return [];\r\n        }\r\n    },\r\n    enviarComentario: async function(datos, tokensesion){\r\n        console.log(\"Datos a enviar: \", datos);\r\n        try{\r\n            let _comentario=await fetch(\"http://localhost:5000/api/Tienda/EnviarComentario\",{\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": tokensesion\r\n                },\r\n                body: JSON.stringify(datos),\r\n            });\r\n            return await _comentario.json();\r\n        }catch(error){\r\n            return [];\r\n        }\r\n    },\r\n    recuperarComentarios: async function(idLibro){\r\n        try{\r\n            let _comentarios=await fetch(`http://localhost:5000/api/Tienda/RecuperarComentarios/${idLibro}`);\r\n            return await _comentarios.json();\r\n        }catch(error){\r\n            return [];\r\n        }\r\n    }\r\n}\r\nexport default tiendaRESTService;"],"mappings":"AAAA;AACA;;AAEA,IAAIA,iBAAiB,GAAC;EAClBC,mBAAmB,EAAE,eAAAA,CAAe;IAACC,OAAO;IAAEC;EAAM,CAAC,EAAC;IAClD,IAAG;MACC,IAAIC,YAAY,GAAGD,MAAM,CAACE,WAAW;MACrC,IAAG,OAAOD,YAAY,KAAK,WAAW,EAAC;QACnCA,YAAY,GAAG,QAAQ;MAC3B;MACA,IAAIE,IAAI,GAAG,MAAMC,KAAK,CAAE,wDAAuDH,YAAa,EAAC,CAAC;MAC9F,OAAO,MAAME,IAAI,CAACE,IAAI,CAAC,CAAC;IAC5B,CAAC,QAAMC,KAAK,EAAC;MACT,OAAO,EAAE;IACb;EACJ,CAAC;EACDC,eAAe,EAAE,eAAAA,CAAe;IAACR,OAAO;IAAEC;EAAM,CAAC,EAAC;IAC9C,IAAG;MACC,IAAIC,YAAY,GAAGD,MAAM,CAACE,WAAW;MACrC,IAAG,OAAOD,YAAY,KAAK,WAAW,EAAC;QACnCA,YAAY,GAAG,MAAM;MACzB;MACA,IAAIO,MAAM,GAAG,MAAMJ,KAAK,CAAE,oDAAmDH,YAAa,EAAC,CAAC;MAC5F,OAAO,MAAMO,MAAM,CAACH,IAAI,CAAC,CAAC;IAC9B,CAAC,QAAMC,KAAK,EAAC;MACT,OAAO,EAAE;IACb;EACJ,CAAC;EAEDG,cAAc,EAAE,eAAAA,CAAeC,MAAM,EAAC;IAClC,IAAG;MACC,IAAIC,MAAM,GAAC,MAAMP,KAAK,CAAE,mDAAkDM,MAAO,EAAC,CAAC;MACnF,OAAO,MAAMC,MAAM,CAACN,IAAI,CAAC,CAAC;IAC9B,CAAC,QAAMC,KAAK,EAAC;MACT,OAAO,EAAE;IACb;EACJ,CAAC;EACDM,gBAAgB,EAAE,eAAAA,CAAeC,KAAK,EAAEC,WAAW,EAAC;IAChDC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEH,KAAK,CAAC;IACtC,IAAG;MACC,IAAII,WAAW,GAAC,MAAMb,KAAK,CAAC,mDAAmD,EAAC;QAC5Ec,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAEL;QACrB,CAAC;QACDM,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,KAAK;MAC9B,CAAC,CAAC;MACF,OAAO,MAAMI,WAAW,CAACZ,IAAI,CAAC,CAAC;IACnC,CAAC,QAAMC,KAAK,EAAC;MACT,OAAO,EAAE;IACb;EACJ,CAAC;EACDiB,oBAAoB,EAAE,eAAAA,CAAeC,OAAO,EAAC;IACzC,IAAG;MACC,IAAIC,YAAY,GAAC,MAAMrB,KAAK,CAAE,yDAAwDoB,OAAQ,EAAC,CAAC;MAChG,OAAO,MAAMC,YAAY,CAACpB,IAAI,CAAC,CAAC;IACpC,CAAC,QAAMC,KAAK,EAAC;MACT,OAAO,EAAE;IACb;EACJ;AACJ,CAAC;AACD,eAAeT,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}