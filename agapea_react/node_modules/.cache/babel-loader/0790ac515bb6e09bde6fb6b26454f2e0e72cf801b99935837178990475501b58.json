{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thard\\\\OneDrive\\\\Documentos\\\\DAW\\\\Segundo\\\\entornoCliente\\\\agapea_react\\\\src\\\\componentes\\\\zonaTienda\\\\pedidosComponente\\\\MostrarPedido.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useItemsCarroContext } from '../../../contextProviders/itemsCarroContext';\nimport { useClienteLoggedContext } from '../../../contextProviders/clienteLoggedContext';\nimport pedidoRESTService from '../../../servicios/restPedido';\nimport ElementoPedido from './ElementoPedido';\nimport DatosFactura from './DatosFactura';\nimport DatosEntrega from './DatosEntrega';\nimport DatosPago from './DatosPago';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MostrarPedido({\n  props\n}) {\n  _s();\n  //#region --------------- state manejado por el componente (global por context-api o local) ------------------\n  //-------recuperacion del global-state items del pedido------\n  let {\n    itemsCarro,\n    dispatch\n  } = useItemsCarroContext();\n  let {\n    clienteLogged\n  } = useClienteLoggedContext();\n  const navigate = useNavigate();\n\n  //------ state-local del componente pedido: variables Subtotal, Gastos de Envio y Total\n  // este state-local debe recalcularse cada vez q cambia: itemsPedido <--- necesito efecto\n\n  let [datosEntrega, setDatosEntrega] = useState({\n    calle: '',\n    municipio: '',\n    provincia: '',\n    pais: '',\n    cp: '',\n    nombreEnvio: '',\n    apellidosEnvio: '',\n    telefonoContacto: '',\n    emailEnvio: '',\n    otrosDatos: ''\n  });\n  let [deseoFactura, setDeseoFactura] = useState(false);\n  let [datosFactura, setDatosFactura] = useState({\n    tipofactura: 'facturaempresa',\n    //puede ser: facturaempresa o facturaparticular\n    nombreFactura: '',\n    docFactura: '',\n    checkdireccionfactura: 'true',\n    callefactura: '',\n    municipiofactura: '',\n    provinciafactura: '',\n    paisfactura: '',\n    cpfactura: ''\n  });\n  let [datosPago, setDatosPago] = useState({\n    pagoradios: 'pagotarjeta',\n    numerocard: '4242424242424242',\n    mescard: '',\n    aniocard: '',\n    cvv: '',\n    nombrebancocard: ''\n  });\n  let [subTotalPedido, setSubTotalPedido] = useState(0);\n  let [gastosEnvio, setGastosEnvio] = useState(2); //<----- deberia establecer los gastos de envio en funcion PROV. direccion principal cliente logueado\n  //#endregion\n\n  //#region --------------- efectos del componente -------------------------------------------------------------\n  useEffect(() => {\n    console.log('efecto de cambio en itemsCarro', itemsCarro);\n    let _subtotal = itemsCarro.reduce((acum, el) => acum + parseFloat(el.libroElemento.Precio) * el.cantidadElemento, 0);\n    setSubTotalPedido(_subtotal.toFixed(2));\n  }, [itemsCarro]);\n  useEffect(() => {\n    const _dirppal = clienteLogged.datoscliente.direcciones.filter(dir => dir.esPrincipal === true)[0];\n    switch (_dirppal.provincia.CPRO) {\n      case '07':\n        //Baleares\n        setGastosEnvio(2.5);\n        break;\n      case \"38\":\n      case \"35\":\n        //Canarias\n        setGastosEnvio(3);\n        break;\n      case \"51\":\n      case \"52\":\n        //Ceuta y Melilla\n        setGastosEnvio(3.5);\n        break;\n      default:\n        //peninsula\n        setGastosEnvio(2);\n        break;\n    }\n  }, [clienteLogged.datoscliente.direcciones]);\n\n  //#endregion\n\n  //#region --------------- funciones manejadoras de eventos ----------------------------------------------------\n  async function HandlerSubmitCompra(ev) {\n    //....envio de datos del pedido a nodejs ......\n    ev.preventDefault();\n    console.log('datos del pedido a enviar a nodejs', datosEntrega, datosFactura, datosPago, itemsCarro, subTotalPedido, gastosEnvio, clienteLogged);\n    let _respuesta = await pedidoRESTService.finalizarPedido(datosEntrega, datosFactura, datosPago, itemsCarro, gastosEnvio, clienteLogged);\n    console.log(\"Respuesta del server al intentar finalizar pedido: \", _respuesta);\n    if (_respuesta.codigo === 0) {\n      //si todo ok, borrar el pedido de clienteLogged y navegar a la pagina de inicio\n      if (datosPago.pagoradios === 'pagotarjeta') {\n        dispatch({\n          type: 'VACIAR_CARRITO'\n        });\n        navigate('/Cliente/Panel/InicioPanel');\n      } else {\n        console.log('Redirecciono a pasarela de pago paypal....');\n        try {\n          window.location.href = JSON.parse(_resp.otrosdatos).urlPayPal;\n        } catch (error) {\n          console.error('Error al parsear otrosDatos:', error);\n        }\n      }\n    } else {\n      console.log('error al intentar finalizar pedido', _respuesta);\n    }\n  }\n  //#endregion\n\n  //-----------------------------------------------------------------------------------------------------\n  //----------------------vista del componente ----------------------------------------------------------\n  //-----------------------------------------------------------------------------------------------------\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-8\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: HandlerSubmitCompra,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            children: [/*#__PURE__*/_jsxDEV(DatosEntrega, {\n              datosEntrega: datosEntrega,\n              setDatosEntrega: setDatosEntrega\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-check-input\",\n                  type: \"checkbox\",\n                  name: \"deseoFactura\",\n                  id: \"deseoFactura\",\n                  onChange: ev => setDeseoFactura(ev.target.checked)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  htmlFor: \"deseoFactura\",\n                  children: \"Deseo Factura\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 37\n            }, this), deseoFactura && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mt-3\",\n              children: /*#__PURE__*/_jsxDEV(DatosFactura, {\n                datosFactura: datosFactura,\n                setDatosFactura: setDatosFactura\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mt-3\",\n              children: /*#__PURE__*/_jsxDEV(DatosPago, {\n                datosPago: datosPago,\n                setDatosPago: setDatosPago\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mt-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-check-input\",\n                  type: \"checkbox\",\n                  name: \"recibirinfo\",\n                  id: \"recibirinfo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  htmlFor: \"recibirinfo\",\n                  children: \"Deseo recibir informaci\\xF3n sobre libros, novedades y eventos de Agapea.com o sus librer\\xEDas.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-check-input\",\n                  type: \"checkbox\",\n                  name: \"politicauso\",\n                  id: \"politicauso\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  htmlFor: \"politicauso\",\n                  children: \"He le\\xEDdo y acepto la pol\\xEDtica de privacidad y cookies y las condiciones de contrataci\\xF3n y devoluci\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row d-flex flex-row justify-content-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa-solid fa-truck\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 45\n                }, this), \" Finalizar Pedido\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Resumen de la Cesta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 58\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 33\n          }, this), itemsCarro.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"...no hay ningun libro a\\xF1adido al carro de momento, sigue comprando....\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 40\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [itemsCarro.map(elemento => /*#__PURE__*/_jsxDEV(ElementoPedido, {\n              item: elemento\n            }, elemento.libroElemento.ISBN13, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 65\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-10\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"SubTotal: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 76\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 73\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-2\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: 'red'\n                  },\n                  children: [parseFloat(subTotalPedido).toFixed(2), \"\\u20AC\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 72\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-10\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Gastos de envio y gestion: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 76\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 73\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-2\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: 'red'\n                  },\n                  children: [parseFloat(gastosEnvio).toFixed(2), \"\\u20AC\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 72\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-10\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Gastos Total a pagar: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 76\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 73\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-2\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: 'red'\n                  },\n                  children: [(parseFloat(subTotalPedido) + parseFloat(gastosEnvio)).toFixed(2), \"\\u20AC\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 72\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [\"El periodo de entrega es de \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: 'green'\n                  },\n                  children: \"1 a 7 d\\xEDas laborables\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 101\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 66\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/Tienda/Libros/2-10\",\n                className: \"btn btn-outline-primary\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa-solid fa-book\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 45\n                }, this), \"Seguir Comprando\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: HandlerSubmitCompra,\n                className: \"btn btn-primary\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa-solid fa-truck-fast\",\n                  children: \" \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 45\n                }, this), \" Finalizar Pedidio\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 17\n  }, this);\n}\n_s(MostrarPedido, \"Xsjt4Hk2rK4CGcbIGuhrvbULZwg=\", false, function () {\n  return [useItemsCarroContext, useClienteLoggedContext, useNavigate];\n});\n_c = MostrarPedido;\nexport default MostrarPedido;\nvar _c;\n$RefreshReg$(_c, \"MostrarPedido\");","map":{"version":3,"names":["useState","useEffect","Link","useNavigate","useItemsCarroContext","useClienteLoggedContext","pedidoRESTService","ElementoPedido","DatosFactura","DatosEntrega","DatosPago","jsxDEV","_jsxDEV","Fragment","_Fragment","MostrarPedido","props","_s","itemsCarro","dispatch","clienteLogged","navigate","datosEntrega","setDatosEntrega","calle","municipio","provincia","pais","cp","nombreEnvio","apellidosEnvio","telefonoContacto","emailEnvio","otrosDatos","deseoFactura","setDeseoFactura","datosFactura","setDatosFactura","tipofactura","nombreFactura","docFactura","checkdireccionfactura","callefactura","municipiofactura","provinciafactura","paisfactura","cpfactura","datosPago","setDatosPago","pagoradios","numerocard","mescard","aniocard","cvv","nombrebancocard","subTotalPedido","setSubTotalPedido","gastosEnvio","setGastosEnvio","console","log","_subtotal","reduce","acum","el","parseFloat","libroElemento","Precio","cantidadElemento","toFixed","_dirppal","datoscliente","direcciones","filter","dir","esPrincipal","CPRO","HandlerSubmitCompra","ev","preventDefault","_respuesta","finalizarPedido","codigo","type","window","location","href","JSON","parse","_resp","otrosdatos","urlPayPal","error","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","name","id","onChange","target","checked","htmlFor","length","map","elemento","item","ISBN13","style","color","to","onClick","_c","$RefreshReg$"],"sources":["C:/Users/thard/OneDrive/Documentos/DAW/Segundo/entornoCliente/agapea_react/src/componentes/zonaTienda/pedidosComponente/MostrarPedido.js"],"sourcesContent":["import {useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nimport { useItemsCarroContext } from '../../../contextProviders/itemsCarroContext';\r\nimport { useClienteLoggedContext } from '../../../contextProviders/clienteLoggedContext';\r\n\r\nimport pedidoRESTService from '../../../servicios/restPedido';\r\nimport ElementoPedido from './ElementoPedido';\r\nimport DatosFactura from './DatosFactura';\r\nimport DatosEntrega from './DatosEntrega';\r\nimport DatosPago from './DatosPago';\r\n \r\nfunction MostrarPedido( {props} ) {\r\n        //#region --------------- state manejado por el componente (global por context-api o local) ------------------\r\n        //-------recuperacion del global-state items del pedido------\r\n            let { itemsCarro, dispatch }=useItemsCarroContext();\r\n            let { clienteLogged }=useClienteLoggedContext();\r\n            const navigate = useNavigate();\r\n\r\n            //------ state-local del componente pedido: variables Subtotal, Gastos de Envio y Total\r\n            // este state-local debe recalcularse cada vez q cambia: itemsPedido <--- necesito efecto\r\n\r\n            let [ datosEntrega, setDatosEntrega]=useState(\r\n                {\r\n                    calle:'',\r\n                    municipio:'',\r\n                    provincia:'',\r\n                    pais:'',\r\n                    cp:'',\r\n                    nombreEnvio:'',\r\n                    apellidosEnvio:'',\r\n                    telefonoContacto:'',\r\n                    emailEnvio:'',\r\n                    otrosDatos:''\r\n                 }         \r\n            );\r\n\r\n            let [ deseoFactura, setDeseoFactura]=useState(false);\r\n            let [ datosFactura, setDatosFactura]=useState(\r\n                {\r\n                    tipofactura:'facturaempresa', //puede ser: facturaempresa o facturaparticular\r\n                    nombreFactura:'',\r\n                    docFactura:'',\r\n                    checkdireccionfactura:'true',\r\n                    callefactura:'',\r\n                    municipiofactura:'',\r\n                    provinciafactura:'',\r\n                    paisfactura:'',\r\n                    cpfactura:''       \r\n                }\r\n            );\r\n\r\n            let [ datosPago, setDatosPago]=useState(\r\n                {\r\n                    pagoradios: 'pagotarjeta',\r\n                    numerocard: '4242424242424242',\r\n                    mescard: '',\r\n                    aniocard: '',\r\n                    cvv:'',\r\n                    nombrebancocard: ''\r\n                }\r\n            );\r\n\r\n            let [subTotalPedido,setSubTotalPedido]=useState(0);\r\n            let [gastosEnvio,setGastosEnvio]=useState(2); //<----- deberia establecer los gastos de envio en funcion PROV. direccion principal cliente logueado\r\n            //#endregion\r\n\r\n            //#region --------------- efectos del componente -------------------------------------------------------------\r\n            useEffect(\r\n                ()=>{\r\n                    console.log('efecto de cambio en itemsCarro', itemsCarro);\r\n                    let _subtotal=itemsCarro.reduce( (acum, el)=> acum + (parseFloat(el.libroElemento.Precio) * el.cantidadElemento), 0 );\r\n                    setSubTotalPedido(_subtotal.toFixed(2));\r\n                },\r\n                [itemsCarro]\r\n            );\r\n\r\n\r\n            useEffect(\r\n                () => {\r\n                    const _dirppal=clienteLogged.datoscliente.direcciones.filter( dir=>dir.esPrincipal===true)[0];\r\n\r\n                    switch (_dirppal.provincia.CPRO) {\r\n                        case '07'://Baleares\r\n                            setGastosEnvio(2.5);\r\n                            break;\r\n\r\n                        case \"38\":\r\n                        case \"35\"://Canarias\r\n                            setGastosEnvio(3);\r\n                            break;\r\n\r\n                        case \"51\":\r\n                        case \"52\"://Ceuta y Melilla\r\n                            setGastosEnvio(3.5);\r\n                            break;\r\n\r\n                        default: //peninsula\r\n                            setGastosEnvio(2);\r\n                            break;\r\n                    }\r\n              }, \r\n              [clienteLogged.datoscliente.direcciones]);\r\n\r\n            //#endregion\r\n\r\n            //#region --------------- funciones manejadoras de eventos ----------------------------------------------------\r\n            async function HandlerSubmitCompra(ev){\r\n                //....envio de datos del pedido a nodejs ......\r\n                ev.preventDefault();\r\n                console.log('datos del pedido a enviar a nodejs',\r\n                 datosEntrega, datosFactura, datosPago, itemsCarro, subTotalPedido, gastosEnvio, clienteLogged);\r\n                let _respuesta= await pedidoRESTService.finalizarPedido(datosEntrega, datosFactura, datosPago, itemsCarro, gastosEnvio, clienteLogged);\r\n                console.log(\"Respuesta del server al intentar finalizar pedido: \", _respuesta);\r\n                if(_respuesta.codigo===0){\r\n                    //si todo ok, borrar el pedido de clienteLogged y navegar a la pagina de inicio\r\n                    if(datosPago.pagoradios==='pagotarjeta'){\r\n                        dispatch({type:'VACIAR_CARRITO'});\r\n                        navigate('/Cliente/Panel/InicioPanel');\r\n                    }else{\r\n                        console.log('Redirecciono a pasarela de pago paypal....');\r\n                        try {\r\n                            window.location.href=JSON.parse(_resp.otrosdatos).urlPayPal;\r\n                        } catch (error) {\r\n                            console.error('Error al parsear otrosDatos:', error);\r\n                        }\r\n                    }\r\n\r\n                }else{\r\n                    console.log('error al intentar finalizar pedido', _respuesta);\r\n                }\r\n            }        \r\n            //#endregion\r\n\r\n\r\n            //-----------------------------------------------------------------------------------------------------\r\n            //----------------------vista del componente ----------------------------------------------------------\r\n            //-----------------------------------------------------------------------------------------------------\r\n            return(\r\n                <div className='container'>\r\n                    <div className='row'>\r\n                        {/* ------ columna para direccion envio, facturacion y metodo de pago ----*/}\r\n                        <div className='col-8'>\r\n                            <form onSubmit={HandlerSubmitCompra}>             \r\n                                <div className='container'>\r\n                                    \r\n                                    <DatosEntrega datosEntrega={datosEntrega} setDatosEntrega={setDatosEntrega}/>\r\n                                    \r\n                                    <div className=\"row\">\r\n                                            <div className=\"form-check\">\r\n                                                <input className=\"form-check-input\" type=\"checkbox\" name=\"deseoFactura\" id=\"deseoFactura\" onChange={ (ev)=>setDeseoFactura(ev.target.checked) }/>\r\n                                                <label className=\"form-check-label\" htmlFor=\"deseoFactura\">\r\n                                                    Deseo Factura\r\n                                                </label>\r\n                                            </div>                        \r\n                                    </div>\r\n                                    {\r\n                                        deseoFactura && (\r\n                                            <div className=\"row mt-3\">\r\n                                                <DatosFactura datosFactura={datosFactura} setDatosFactura={setDatosFactura} />\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                    <div className=\"row mt-3\">\r\n                                        <DatosPago datosPago={datosPago} setDatosPago={setDatosPago}/>\r\n                                    </div>\r\n\r\n                                    {/*-- checkbox de aceptar condiciones de devolucion y politica de uso y boton finalizar compra-->*/}\r\n                                    <div className=\"row mt-3\">\r\n                                        <div className=\"form-check\">\r\n                                            <input className=\"form-check-input\" type=\"checkbox\" name=\"recibirinfo\" id=\"recibirinfo\" />\r\n                                            <label className=\"form-check-label\" htmlFor=\"recibirinfo\">\r\n                                                Deseo recibir información sobre libros, novedades y eventos de Agapea.com o sus librerías.\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"row\">\r\n                                        <div className=\"form-check\">\r\n                                            <input className=\"form-check-input\" type=\"checkbox\" name=\"politicauso\" id=\"politicauso\" />\r\n                                            <label className=\"form-check-label\" htmlFor=\"politicauso\">\r\n                                                He leído y acepto la política de privacidad y cookies y las condiciones de contratación y devolución\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/*<!-- boton finalizar pedido -->*/}\r\n                                    <div className=\"row d-flex flex-row justify-content-center\">\r\n                                        <button type=\"submit\" className=\"btn btn-primary\">\r\n                                            <i className=\"fa-solid fa-truck\"></i> Finalizar Pedido\r\n                                        </button>\r\n                                    </div>                    \r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        \r\n                        \r\n                        {/* ------ columna para elementos del pedido, subtotal, gastos envio y total ----*/}\r\n                        <div className='col-4'>\r\n                            <div className='container'>\r\n                                <div className='row'><h6><strong>Resumen de la Cesta</strong></h6></div>\r\n                                <hr></hr>\r\n                                {\r\n                                    itemsCarro.length === 0 ? \r\n                                    (\r\n                                       <p>...no hay ningun libro añadido al carro de momento, sigue comprando....</p>     \r\n                                    )\r\n                                    :\r\n                                    (\r\n                                        <>\r\n                                            {\r\n                                                itemsCarro.map(\r\n                                                    elemento => <ElementoPedido item={elemento} key={elemento.libroElemento.ISBN13}></ElementoPedido> \r\n                                                )\r\n                                            }\r\n                                            <div className='row'>\r\n                                                <div className='col-10'><p><strong>SubTotal: </strong></p></div>\r\n                                                <div className='col-2'><span style={{color:'red'}}>{parseFloat(subTotalPedido).toFixed(2)}€</span></div>\r\n                                            </div>\r\n                                            <div className='row'>\r\n                                                <div className='col-10'><p><strong>Gastos de envio y gestion: </strong></p></div>\r\n                                                <div className='col-2'><span style={{color:'red'}}>{parseFloat(gastosEnvio).toFixed(2)}€</span></div>\r\n                                            </div>\r\n                                            <div className='row'>\r\n                                                <div className='col-10'><p><strong>Gastos Total a pagar: </strong></p></div>\r\n                                                <div className='col-2'><span style={{color:'red'}}>{(parseFloat(subTotalPedido) + parseFloat(gastosEnvio)).toFixed(2)}€</span></div>\r\n                                            </div>\r\n                                            <div className='row'><small>El periodo de entrega es de <span style={{color:'green'}}>1 a 7 días laborables</span></small></div>\r\n                                        </>\r\n                                    )\r\n                                }\r\n\r\n                                <div className='row'>\r\n                                    <div className='col-6'>\r\n                                        <Link to=\"/Tienda/Libros/2-10\" className='btn btn-outline-primary'>\r\n                                            <i className='fa-solid fa-book'></i>Seguir Comprando\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div className='col-6'>\r\n                                        <button onClick={HandlerSubmitCompra} className='btn btn-primary'>\r\n                                            <i className='fa-solid fa-truck-fast'> </i> Finalizar Pedidio\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n}\r\n\r\nexport default MostrarPedido;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}